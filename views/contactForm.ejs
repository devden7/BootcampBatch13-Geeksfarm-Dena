<%- contentFor('body') %>
<section class="px-5 my-5">
  <h1 class="text-center mb-5 font-bold text-xl"><%= type === 'add' ? 'Add contact' : 'Edit contact' %></h1>

  <div class=""> 
    <form action=<%= type === 'add' ? '/create-contact' : '/update-contact' %>
     method="POST" class='max-w-sm mx-auto'>
      <label for="name" class="block mb-2 text-sm font-medium text-gray-900"> Name </label>
      <div class="mb-3">
        <input
        value='<%= type === 'add' ? '' : contact.name %>'
          type="text"
          placeholder="your name"
          name="name"
          id="name"
          class="w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs"
          required
        />
        <% if (errors.name !== undefined) { %>
         <p class="text-red-500 text-xs"><%= errors.name.msg %></p>
        <% } %>
      </div>
      <label for="phone" class="block mb-2 text-sm font-medium text-gray-900"> Phone number </label>
      <div class="mb-3">
        <input
        value='<%= type === 'add' ? '' : contact.phone %>'
          type="text"
          placeholder="your number"
          name="phone"
          id="phone"
          class="w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs"
          required
        />
        <% if (errors.phone !== undefined) { %>
          <p class="text-red-500 text-xs"><%= errors.phone.msg %></p>
         <% } %>
      </div>
      <label for="email" class="block mb-2 text-sm font-medium text-gray-900"> Email </label>
      <div>
        <input
        value='<%= type === 'add' ? '' : contact.email %>'
          
          placeholder="your email"
          name="email"
          id="email"
          class="w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs"
          required
        />
      </div>
      <% if (type === 'edit') { %>
        <input type="hidden" name="oldName" value="<%=Object.values(errors).length > 0 ? contact.oldName:  contact.name %>" />
      <% } %>

      <% if (errors.email !== undefined) { %>
        <p class="text-red-500 text-xs"><%= errors.email.msg %></p>
       <% } %>
    

      <button
        type="submit"
        class="bg-blue-400 py-1 rounded-md mt-3 text-white px-2 cursor-pointer hover:bg-blue-500"
      >
      <%= type === 'add' ? 'Add' : 'Edit' %>
      </button>
    </form>
  </div>
</section>
